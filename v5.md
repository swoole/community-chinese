Swoole 5.0 版本规划
=======================

概览
----
- 支持 `PHP8.1`
- 独立运行（`swoole-cli`）
- 强类型
- 强化底层服务治理能力


新的运行模式
----
`5.0`将新增`swoole-cli`支持，`swoole`将像`node.js`这样作为独立程序提供给用户，而不是作为`PHP`的一个扩展。
`swoole-cli`会全部使用静态编译连接方式，`libc`和`libstdc++`使用`musl`，并会包含`openssl`和`curl`库和扩展。用户可修改构建脚本添加其他更多三方扩展。
使得`swoole`程序不再依赖任何系统的`so`，可在任意`Linux`系统之间复制分发运行。


> `5.0`版本中依然支持作为`PHP`扩展的运行模式，但在下一个大版本`6.0`中将会移除扩展支持，只提供`swoole-cli`模式


新增
----
- 增加`Server`配置项：`max_concurrency`，可限制 `HTTP1/2` 服务的最大并发请求数量，超过之后返回 `503` 错误
- 增加`Coroutine\Http\Client`配置项：`max_retries`，在发生连接失败、`HTTP 502/503` 时自动更换节点进行重试
- 增加`name_resolver`全局配置项，强化域名解析能力，`5.0`之前的版本域名只能使用`DNS`解析，`5.0`之后可配置`name_resolver`将名字解析改为使用`Consul`或`Nacos`等服务发现插件
- 增加`Coroutine::getExecuteTime()`，可获取协程实际执行时间（不包含处于`yield`状态的时间）

强化
----
- 强类型，所有函数和类方法的参数和返回值增加了类型限定


移除
---
- 移除 `PSR-0` 风格类名，如 `swoole_http_server` 需要修改为 `Swoole\Http\Server`
- 移除自动在 `shutdown function` 中添加 `Event::wait()`，必须显式调用 `Event::wait()` 进入事件等待，或者使用 `Co\run()`、`Server::start()`、`Process::start()`、`Process\Pool::start()` 等容器
